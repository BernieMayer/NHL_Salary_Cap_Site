<%= render_table do %>
  <%= table_head do %>
    <%= table_header "Player name" %>
    <%= table_header "Position" %>
    <% @seasons.each do |season| %>
      <%= table_header do %>
        <%= season %>
      <% end %>
    <% end %>
  <% end %>
  
  <%= table_body do %>
    <% @player_data.each do |player| %>
      <%= table_row do %>

        <%= table_column do %>
        <%= render(LinkComponent.new(href: player_path(slug: player.slug))) do %>
          <%= player.name %>
        <% end %>

        <% end %>

        <%= table_column do %>
          <%= player.position %>
        <% end %>

        <% @seasons.each do |season| %> 
          <%= table_column do %>
            <%= number_to_currency(player.attributes[season]) if player.attributes[season].to_f > 0 %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
