<div class="container mx-auto px-2 py-2">
  <div class="bg-white shadow-md rounded-lg overflow-hidden">
    <div data-controller="teams-combo-box" class="relative">
      <%= label_tag :team, "Select a Team", class: "block text-sm font-medium text-gray-700" %>
  
      <input type="text" 
         placeholder="Type to search..." 
         class="form-input block w-full mt-1 border border-gray-300 rounded-md shadow-sm"
         data-teams-combo-box-target="input"
         data-action="input->teams-combo-box#filter">
  
      <ul class="absolute z-10 bg-white border border-gray-300 mt-1 rounded-md shadow-lg w-full max-h-60 overflow-auto"
        data-teams-combo-box-target="list">
    </ul>
  </div>

    <div>
      <%= image_tag "logos/#{@team.name.downcase.parameterize}.gif" %>
      <h1 class="text-3xl font-bold mb-4"><%= @team.name %></h1>
      <p>Total salary hit for 2024 is: <%= number_to_currency(@salary_cap_total_2024) %> </p>
      <p>Current cap space: <%= number_to_currency(@salary_cap_space_current_year) %> </p>

      <div class="overflow-x-auto">
        <h2 class="text-lg font-semibold"><%= @forwards.length %> Forwards</h2>
        <%= render(SalaryTableComponent.new(seasons: @seasons, player_data: @forwards_data)) %> 


        <h2 class="text-lg font-semibold"><%= @defence.length %> Defence</h2>
        <%= render(SalaryTableComponent.new(seasons: @seasons, player_data: @defence_data)) %>

        <h2 class="text-lg font-semibold"><%= @goalies.length %> Goalies</h2>
        <%= render(SalaryTableComponent.new(seasons: @seasons, player_data: @goalies_data)) %>

        <h2 class="text-lg font-semibold"><%= @retained_players.length %> Retained players</h2>
        <%= render(SalaryTableComponent.new(seasons: @seasons, player_data: @retained_players_data)) %>

        <h2 class="text-lg font-semibold"><%= @buyout_players.length %> Buyout players</h2>
        <%= render(SalaryTableComponent.new(seasons: @seasons, player_data: @buyout_players_data)) %>
      </div>
    </div>
  </div>
</div>
